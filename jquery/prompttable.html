<!DOCTYPE html>
<html>
<head>
<style>
	table, th, td {
  		border: 1px solid black;
  		}
  	td {
  		width: 30px;

  	}
  	.posi {
  		position: relative;
  		text-align: center;
  	}
  	.subindex {
  		position: absolute;
		bottom:1px;
  		right: 1px;
    	font-size: 0.7em;
  	}
  	.blue {
  		background-color: blue !important;
  	}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<!-- <script type="text/javascript" src="http://192.168.175:81/javascript/April04/fruites.json"></script>

 <script type="text/javascript" src="../fruites.json"></script> -->

</head>
<body>
<div id="div1">0</div>
<div id="div2">0</div>
<button class="bto1">Reseteja</button>

<script>
files = prompt("Introduix nombre files");
cols = prompt("Introduix nombre columnes");
nFiles = parseInt(files);
nCols = parseInt(cols);
var taula = $("<table></table>");
$("body").append(taula);
if (nFiles != null && nCols != null) {
	contador = 0;
	for (var i = 0; i < nFiles; i++) {

		var fila = $("<tr></tr>");
		taula.append(fila);
		
		for (var j = 0; j < nCols; j++) {
			++ contador;
			var numero = contador;
			var casella = $(" <td class='posi'><span class='subindex'>0</span></td> ");
			fila.append(casella);
			var text = contador;
			casella.append(text);
			crearClick(casella, numero);
			// if (contador % 4 == 0) {casella.css("backgroundColor", "red")
			// }

		}
		
	}
}
var suma = 0;
var cont2 = 0;
function crearClick(casella, numero) {
	casella.click(function() { 
		console.log("El meu valor es " + numero);
		casella.remove();
	});

	casella.hover(function() { 
		$(this).toggleClass("blue");
		//$(this).css("backgroundColor", "blue");
		freq = parseInt(casella.find("span").text());
		casella.find("span").text(freq + 1);
		cont2++;
		suma = suma + numero;
	
	}, function(){
		//$(this).css("backgroundColor", "orange");
		$("#div1").text(suma);
		$("#div2").text(cont2);


	});
}
$(".bto1").click(function(){
	cont2 = 0;
})


</script>
</body>
</html>
