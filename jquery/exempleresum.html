<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		table, tr, td {
			border: 1px solid black;
		}
		td {
			width: 30px;
			height: 30px;
		}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
</head>
<body>

<script>
nFiles = 4;
nCols = 3;
var taula = $("<table></table>");
$("body").append(taula);
	contador = 0;
	for (var i = 0; i < nFiles; i++) {
		var fila = $("<tr></tr>");
		taula.append(fila);
		
		for (var j = 0; j < nCols; j++) {
			++ contador;
			var numero = contador;
			var casella = $(" <td class='posi'><span class='subindex'></span></td> ");
			fila.append(casella);
			//var text = contador;
			//casella.append(text);
			crearClick(casella, numero);



		}
		
	}
var cont2 = 0;
function crearClick(casella, numero) {
	$(casella).click(function (){
		
		if ($(this).text() == '') {
			cont2++;
			$(this).html(cont2);
		}
		
	})
}
var aba = MathFloor(Math.floor((Math.random() * 10) + 1);)
 setTimeOut(crearClick(aba), 3000);
</script>
</body>
</html>