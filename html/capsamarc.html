<!DOCTYPE html>
<html lang="en">
<head>
	<title>Capsa amb moviment aleatori</title>
	<style>
	#container {
	    width: 400px;
	    height: 400px;
	    position: relative;
	    background: yellow;
  }
	#animate {
	    width: 50px;
	    height: 50px;
	    position: absolute;
	    color: white;
	    font-size: 0.8em;
	    background-color: red;
  }
	</style>
</head>

<body>
<p>
  <button onload="rotate()">Mou-te!</button>
  
</p>

<div id ="container">
  <div id ="animate"></div>
</div>

<script>
//	var posX = 0;
// 	var posY = 0;
// 	var elem = document.getElementById("animate"); 
// 	function myMove() {
// 		var nRandom = Math.ceil(Math.random() * 4);
// 		if (nRandom % 2 == 0) {
// 			if (posX < 350) {posX = posX + 50};
// 		}
// 		else {
// 			if (posX > 0) {posX = posX - 50};
// 		}
// 		if (nRandom > 2 ) {
// 			if (posY < 350) {posY = posY + 50};
// 		}
// 		else {
// 			if (posY > 0) {posY = posY - 50};
// 		}
// 		elem.style.left = posX + 'px'; 
// 		elem.style.top = posY + 'px';
// }
function rotate() {
	var posX = 0;
	var posY = 0;
	var contador = 0;
	var elem = document.getElementById("animate"); 
	var id = setInterval(frame, 5);
   	function frame() {
	   	if (contador <= 350) {
	   		++posY;
	   		++contador;
	   	}
	   	if (contador > 350 && contador <= 700) {
	   		++posX;
	   		++contador;
	   	}
	   	if (contador > 700 && contador <= 1050) {
	   		--posY;
	   		++contador;
	   	}
	   	if (contador > 1050 && contador <= 1400) {
	   		--posX;
	   		++contador;
	   	}
	   	if (contador == 1400) {contador = 0};
    
    elem.style.top = posY + 'px'; 
    elem.style.left = posX + 'px'; 
    }
}

// function myMoveDown() {
//   var elem = document.getElementById("animate");   
//   var pos = 0;
//   var id = setInterval(frame, 5);
//   function frame() {
//     if (pos == 350) {
//       clearInterval(id);
//     } 
//     else {
//       pos++; 
//       elem.style.top = pos + 'px'; 
//       elem.style.left = pos + 'px'; 
//     }
//     if (pos > 175) {elem.style.backgroundColor = "blue"}
//     document.getElementById("animate").innerHTML = "("+ pos + "," + pos + ")";
//   }
// } 
</script>

</body>
</html>